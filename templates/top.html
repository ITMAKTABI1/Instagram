{% extends 'extends.html' %}
{% block css %}
    <link rel="stylesheet" href="../static/top/style/style.min.css">

{% endblock %}
{% block content %}
    <div class="section">
        <div class="section_divs">
            <div class="madalni">
                <svg style="position: absolute; right: 50px;top: 20px;" aria-label="Close"
                     class="x1lliihq close" color="rgb(255, 255, 255)" fill="rgb(255, 255, 255)" height="18"
                     role="img" viewBox="0 0 24 24" width="18"><title>Close</title>
                    <polyline fill="none" points="20.643 3.357 12 12 3.353 20.647" stroke="currentColor"
                              stroke-linecap="round" stroke-linejoin="round" stroke-width="3"></polyline>
                    <line fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                          stroke-width="3" x1="20.649" x2="3.354" y1="20.649" y2="3.354"></line>
                </svg>
                <button style="position: absolute; left: 350px" id="prev" class="section_top_left_top_button buttons">
                        <span style="background-position: -294px -226px; "
                              class="section_top_left_top_button_div"></span>
                </button>
                <div class="mad">
                    {% for reel in reels %}
                        <div class="madd">
                            <div class="mad1">
                                <video class="section_top_left_bottom_bottom_video video">
                                    <source class="section_top_left_bottom_bottom_video_video video"
                                            src="{{ reel.reel }}" type="video/mp4">
                                </video>
                            </div>
                            <div class="mad2">
                                <div class="section_top_left_bottom_top" style="border-bottom: 0.5px solid #737373">
                                    <div class="section_top_left_bottom_top_left">
                                        <div class="section_top_left_bottom_top_left_img" style="background: url({{ reel.photo }}); background-size: cover;">

                                        </div>
                                        <div class="section_top_left_bottom_top_left_name">
                                            {{ reel.reel_name }}
                                            <div style="font-size: 15px;">{{ reel.sound }}</div>
                                        </div>
                                    </div>
                                    <div class="section_top_left_bottom_top_right">
                                        <svg aria-label="More options" class="_ab6-" color="rgb(245, 245, 245)"
                                             fill="rgb(245, 245, 245)" height="24" role="img" viewBox="0 0 24 24"
                                             width="24">
                                            <circle cx="12" cy="12" r="1.5"></circle>
                                            <circle cx="6" cy="12" r="1.5"></circle>
                                            <circle cx="18" cy="12" r="1.5"></circle>
                                        </svg>
                                    </div>
                                </div>
                                <div class="comment">

                                </div>
                                <div class="likes">
                                    <div class="section_top_left_bottom_like">
                                        <div class="section_top_left_bottom_like_top">
                                            <ul class="section_top_left_bottom_like_top_ul"
                                                style="position: absolute;left: 0;">
                                                                  {% if reel in user.like %}
                                                        <a style="text-decoration: none;"
                                                           href="{{ url_for('dislikeee',id=reel.id) }}">
                                                            <li class="section_top_left_bottom_like_top_ul_li">
                                                                <svg aria-label="Не нравится" class="x1lliihq x1n2onr6"
                                                                     color="rgb(255, 48, 64)" fill="rgb(255, 48, 64)"
                                                                     height="24" role="img" viewBox="0 0 48 48"
                                                                     width="24">
                                                                    <title>Не нравится</title>
                                                                    <path d="M34.6 3.1c-4.5 0-7.9 1.8-10.6 5.6-2.7-3.7-6.1-5.5-10.6-5.5C6 3.1 0 9.6 0 17.6c0 7.3 5.4 12 10.6 16.5.6.5 1.3 1.1 1.9 1.7l2.3 2c4.4 3.9 6.6 5.9 7.6 6.5.5.3 1.1.5 1.6.5s1.1-.2 1.6-.5c1-.6 2.8-2.2 7.8-6.8l2-1.8c.7-.6 1.3-1.2 2-1.7C42.7 29.6 48 25 48 17.6c0-8-6-14.5-13.4-14.5z"></path>
                                                                </svg>
                                                            </li>
                                                        </a>
                                                        {% else %}
                                                        <a style="text-decoration: none;"
                                                           href="{{ url_for('add_likeee',id=reel.id) }}">
                                                            <li class="section_top_left_bottom_like_top_ul_li">
                                                                <svg aria-label="Like" class="x1lliihq x1n2onr6"
                                                                     color="rgb(245, 245, 245)"
                                                                     fill="rgb(245, 245, 245)" height="24" role="img"
                                                                     viewBox="0 0 24 24"
                                                                     width="24"><title>Like</title>
                                                                    <path d="M16.792 3.904A4.989 4.989 0 0 1 21.5 9.122c0 3.072-2.652 4.959-5.197 7.222-2.512 2.243-3.865 3.469-4.303 3.752-.477-.309-2.143-1.823-4.303-3.752C5.141 14.072 2.5 12.167 2.5 9.122a4.989 4.989 0 0 1 4.708-5.218 4.21 4.21 0 0 1 3.675 1.941c.84 1.175.98 1.763 1.12 1.763s.278-.588 1.11-1.766a4.17 4.17 0 0 1 3.679-1.938m0-2a6.04 6.04 0 0 0-4.797 2.127 6.052 6.052 0 0 0-4.787-2.127A6.985 6.985 0 0 0 .5 9.122c0 3.61 2.55 5.827 5.015 7.97.283.246.569.494.853.747l1.027.918a44.998 44.998 0 0 0 3.518 3.018 2 2 0 0 0 2.174 0 45.263 45.263 0 0 0 3.626-3.115l.922-.824c.293-.26.59-.519.885-.774 2.334-2.025 4.98-4.32 4.98-7.94a6.985 6.985 0 0 0-6.708-7.218Z"></path>
                                                                </svg>
                                                            </li>
                                                        </a>
                                                    {% endif %}
                                                <li class="section_top_left_bottom_like_top_ul_li">
                                                    <svg aria-label="Comment" class="x1lliihq x1n2onr6"
                                                         color="rgb(245, 245, 245)"
                                                         fill="rgb(245, 245, 245)" height="24" role="img"
                                                         viewBox="0 0 24 24"
                                                         width="24"><title>Comment</title>
                                                        <path d="M20.656 17.008a9.993 9.993 0 1 0-3.59 3.615L22 22Z"
                                                              fill="none"
                                                              stroke="currentColor" stroke-linejoin="round"
                                                              stroke-width="2"></path>
                                                    </svg>
                                                </li>
                                                <li class="section_top_left_bottom_like_top_ul_li">
                                                    <svg aria-label="Share Post" class="x1lliihq x1n2onr6"
                                                         color="rgb(245, 245, 245)" fill="rgb(245, 245, 245)"
                                                         height="24"
                                                         role="img"
                                                         viewBox="0 0 24 24" width="24"><title>Share Post</title>
                                                        <line fill="none" stroke="currentColor" stroke-linejoin="round"
                                                              stroke-width="2" x1="22" x2="9.218" y1="3"
                                                              y2="10.083"></line>
                                                        <polygon fill="none"
                                                                 points="11.698 20.334 22 3.001 2 3.001 9.218 10.084 11.698 20.334"
                                                                 stroke="currentColor" stroke-linejoin="round"
                                                                 stroke-width="2"></polygon>
                                                    </svg>
                                                </li>
                                            </ul>
                                                 <ul class="section_top_left_bottom_like_top_ul"
                                        style="position: absolute; right: -35px;">


                                        {% if reel in user.reels %}
                                            <a class="a1" style="text-decoration: none"
                                               href="{{ url_for('unsaveeee',id=reel.id) }}">
                                                <li class="section_top_left_bottom_like_top_ul_li">
                                                    <svg aria-label="Удалить" class="x1lliihq x1n2onr6"
                                                         color="rgb(245, 245, 245)" fill="rgb(245, 245, 245)"
                                                         height="24"
                                                         role="img" viewBox="0 0 24 24" width="24"><title>
                                                        Удалить</title>
                                                        <path d="M20 22a.999.999 0 0 1-.687-.273L12 14.815l-7.313 6.912A1 1 0 0 1 3 21V3a1 1 0 0 1 1-1h16a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1Z"></path>
                                                    </svg>
                                                </li>
                                            </a>
                                        {% else %}
                                            <a style="text-decoration: none" class="a2"
                                               href="{{ url_for('saveeee',id=reel.id) }}">
                                                <li class="section_top_left_bottom_like_top_ul_li">
                                                    <svg aria-label="Save" class="x1lliihq x1n2onr6"
                                                         color="rgb(245, 245, 245)"
                                                         fill="rgb(245, 245, 245)" height="24" role="img"
                                                         viewBox="0 0 24 24"
                                                         width="24"><title>Save</title>
                                                        <polygon fill="none" points="20 21 12 13.44 4 21 4 3 20 3 20 21"
                                                                 stroke="currentColor" stroke-linecap="round"
                                                                 stroke-linejoin="round" stroke-width="2"></polygon>
                                                    </svg>
                                                </li>
                                            </a>
                                        {% endif %}

                                    </ul>
                                        </div>
                                        <div class="section_top_left_bottom_like_bottom">

                                        </div>
                                    </div>
                                    <div class="section_top_left_bottom_comment_like">8 likes</div>
                                </div>
                                <form class="form" action="">
                                    <svg style="margin-left: 10px;" aria-label="Emoji" class="x1lliihq x1n2onr6"
                                         color="rgb(245, 245, 245)"
                                         fill="rgb(245, 245, 245)" height="24" role="img" viewBox="0 0 24 24"
                                         width="24"><title>Emoji</title>
                                        <path d="M15.83 10.997a1.167 1.167 0 1 0 1.167 1.167 1.167 1.167 0 0 0-1.167-1.167Zm-6.5 1.167a1.167 1.167 0 1 0-1.166 1.167 1.167 1.167 0 0 0 1.166-1.167Zm5.163 3.24a3.406 3.406 0 0 1-4.982.007 1 1 0 1 0-1.557 1.256 5.397 5.397 0 0 0 8.09 0 1 1 0 0 0-1.55-1.263ZM12 .503a11.5 11.5 0 1 0 11.5 11.5A11.513 11.513 0 0 0 12 .503Zm0 21a9.5 9.5 0 1 1 9.5-9.5 9.51 9.51 0 0 1-9.5 9.5Z"></path>
                                    </svg>
                                    <input class="input" type="text"
                                           placeholder="Add comment">
                                    <button class="button">Post</button>

                                </form>
                            </div>
                        </div>
                    {% endfor %}


                </div>
                <button id="next" style="position: absolute; right: 350px;" class="section_top_left_top_button buttons">
                    <span class="section_top_left_top_button_div"></span>
                </button>
            </div>
            {% for reel in reels %}

                <div class="section_divs_div" style="background: transparent;">
                    <video src="{{ reel.reel }}" style="height: 100%;width: 100%; object-fit: cover;"></video>
                </div>
            {% endfor %}


        </div>
    </div>
    <script src="../static/top/script/script.js"></script>
    <script>
        let asasas = document.querySelectorAll('.madd'),
            asedassa = document.querySelectorAll('.section_divs_div')
        asasas[0].classList.add("current");
        asedassa.forEach((item, id) => {
            item.addEventListener('click', (event) => {
                console.log(id)
                let curre = document.querySelector(".current");
                curre.classList.remove("current");
                asasas[id].classList.add('current')
            })
        })
    </script>
{% endblock %}